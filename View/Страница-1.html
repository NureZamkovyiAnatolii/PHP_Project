<!DOCTYPE html>
<html style="font-size: 16px;" lang="ru">

<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta charset="utf-8">
  <meta name="keywords" content="HTML, JS, CSS">
  <meta name="description" content="">
  <title>Страница 1</title>
  <link rel="stylesheet" href="nicepage.css" media="screen">
  <link rel="stylesheet" href="Страница-1.css" media="screen">
  <script type="text/javascript" src="myScript.js"></script>
  <script class="u-script" type="text/javascript" src="jquery.js" defer=""></script>
  <script class="u-script" type="text/javascript" src="nicepage.js" defer=""></script>
  <meta name="generator" content="Nicepage 5.7.9, nicepage.com">
  <link id="u-theme-google-font" rel="stylesheet"
    href="https://fonts.googleapis.com/css?family=Roboto:100,100i,300,300i,400,400i,500,500i,700,700i,900,900i|Open+Sans:300,300i,400,400i,500,500i,600,600i,700,700i,800,800i">




  <script type="application/ld+json">{
		"@context": "http://schema.org",
		"@type": "Organization",
		"name": ""
}</script>
  <meta name="theme-color" content="#478ac9">
  <meta property="og:title" content="Страница 1">
  <meta property="og:type" content="website">
  <meta data-intl-tel-input-cdn-path="intlTelInput/">
</head>

<body class="u-body u-xl-mode" data-lang="ru">
  <header class="u-clearfix u-header u-header" id="sec-a24d">
    <div class="u-clearfix u-sheet u-sheet-1">
      <nav class="u-menu u-menu-one-level u-offcanvas u-menu-1">
        <div class="menu-collapse" style="font-size: 1rem; letter-spacing: 0px; font-weight: 700;">
          <a class="u-button-style u-custom-border u-custom-border-color u-custom-borders u-custom-left-right-menu-spacing u-custom-padding-bottom u-custom-text-color u-custom-top-bottom-menu-spacing u-nav-link u-text-active-palette-1-base u-text-hover-palette-2-base"
            href="#"
            data-lang-ru="{&quot;content&quot;:&quot;<svg class=\&quot;u-svg-link\&quot; viewBox=\&quot;0 0 24 24\&quot;><use xmlns:xlink=\&quot;http://www.w3.org/1999/xlink\&quot; xlink:href=\&quot;#menu-hamburger\&quot;></use></svg><svg class=\&quot;u-svg-content\&quot; version=\&quot;1.1\&quot; id=\&quot;menu-hamburger\&quot; viewBox=\&quot;0 0 16 16\&quot; x=\&quot;0px\&quot; y=\&quot;0px\&quot; xmlns:xlink=\&quot;http://www.w3.org/1999/xlink\&quot; xmlns=\&quot;http://www.w3.org/2000/svg\&quot;>    <g>        <rect y=\&quot;1\&quot; width=\&quot;16\&quot; height=\&quot;2\&quot;></rect>        <rect y=\&quot;7\&quot; width=\&quot;16\&quot; height=\&quot;2\&quot;></rect>        <rect y=\&quot;13\&quot; width=\&quot;16\&quot; height=\&quot;2\&quot;></rect>    </g></svg>&quot;,&quot;href&quot;:&quot;#&quot;}">
            <svg class="u-svg-link" viewBox="0 0 24 24">
              <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#menu-hamburger"></use>
            </svg>
            <svg class="u-svg-content" version="1.1" id="menu-hamburger" viewBox="0 0 16 16" x="0px" y="0px"
              xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg">
              <g>
                <rect y="1" width="16" height="2"></rect>
                <rect y="7" width="16" height="2"></rect>
                <rect y="13" width="16" height="2"></rect>
              </g>
            </svg>
          </a>
        </div>
        <div class="u-custom-menu u-nav-container">
          <ul class="u-nav u-spacing-20 u-unstyled u-nav-1">
            <li class="u-nav-item"><a
                class="u-button-style u-nav-link u-text-active-palette-1-base u-text-grey-90 u-text-hover-palette-2-base"
                href="../index.html"
                data-lang-ru="{&quot;content&quot;:&quot;Home page&quot;,&quot;href&quot;:&quot;Главная.html&quot;}"
                style="padding: 10px;">Home page</a>
            </li>
            <li class="u-nav-item"><a
                class="u-button-style u-nav-link u-text-active-palette-1-base u-text-grey-90 u-text-hover-palette-2-base"
                href="О-нас.html"
                data-lang-ru="{&quot;content&quot;:&quot;About&quot;,&quot;href&quot;:&quot;О-нас.html&quot;}"
                style="padding: 10px;">About</a>
            </li>
            <li class="u-nav-item"><a
                class="u-button-style u-nav-link u-text-active-palette-1-base u-text-grey-90 u-text-hover-palette-2-base"
                href="Контакты.html"
                data-lang-ru="{&quot;content&quot;:&quot;Contacts&quot;,&quot;href&quot;:&quot;Контакты.html&quot;}"
                style="padding: 10px;">Contacts</a>
            </li>
            <li class="u-nav-item"><a
                class="u-button-style u-nav-link u-text-active-palette-1-base u-text-grey-90 u-text-hover-palette-2-base"
                href="Log_in_page.html" data-lang-ru="{&quot;content&quot;:&quot;Log in&quot;}"
                style="padding: 10px;">Log in</a>
            </li>
          </ul>
        </div>
        <div class="u-custom-menu u-nav-container-collapse">
          <div class="u-black u-container-style u-inner-container-layout u-opacity u-opacity-95 u-sidenav">
            <div class="u-inner-container-layout u-sidenav-overflow">
              <div class="u-menu-close">ba</div>
              <ul class="u-align-center u-nav u-popupmenu-items u-unstyled u-nav-2">
                <li class="u-nav-item"><a class="u-button-style u-nav-link" href="Главная.html"
                    data-lang-ru="{&quot;content&quot;:&quot;Home page&quot;,&quot;href&quot;:&quot;Главная.html&quot;}">Home
                    page</a>
                </li>
                <li class="u-nav-item"><a class="u-button-style u-nav-link" href="О-нас.html"
                    data-lang-ru="{&quot;content&quot;:&quot;About&quot;,&quot;href&quot;:&quot;О-нас.html&quot;}">About</a>
                </li>
                <li class="u-nav-item"><a class="u-button-style u-nav-link" href="Контакты.html"
                    data-lang-ru="{&quot;content&quot;:&quot;Contacts&quot;,&quot;href&quot;:&quot;Контакты.html&quot;}">Contacts</a>
                </li>
                <li class="u-nav-item"><a class="u-button-style u-nav-link" href="Log_in_page.html"
                    data-lang-ru="{&quot;content&quot;:&quot;Log in&quot;}">Log in</a>
                </li>
              </ul>
            </div>
          </div>
          <div class="u-black u-menu-overlay u-opacity u-opacity-70"></div>
        </div>
      </nav>
      <h1 class="u-text u-text-default u-text-palette-1-base u-text-1" data-lang-ru="Fresh Solutions for You">Fresh
        Solutions for You</h1>
      <div class="u-border-9 u-border-palette-1-base u-line u-line-horizontal u-line-1"></div>
    </div>
  </header>
  <section class="u-clearfix u-section-1" id="sec-d0d8">
    <div class="u-clearfix u-sheet u-sheet-1">
      <h2 class="u-text u-text-default u-text-1" id="name">Code for you</h2>
    </div>
  </section>
  <section class="u-align-center u-clearfix u-section-2" id="sec-27b0">
    <div class="u-clearfix u-sheet u-valign-top u-sheet-1">
      <h1 class="u-text u-text-1">It's That Design Feeling</h1>
      <p class="u-align-left u-text u-text-2" id="description">Description</p>
    </div>
  </section>
  <section class="u-clearfix u-section-3" id="sec-e255">
    <div class="u-clearfix u-sheet u-sheet-1">
      <div class="u-clearfix u-expanded-width u-gutter-10 u-layout-wrap u-layout-wrap-1">
        <div class="u-gutter-0 u-layout">
          <div class="u-layout-row">
            <div class="u-size-30">
              <div class="u-layout-row">
                <div class="u-align-left u-container-style u-layout-cell u-left-cell u-size-60 u-layout-cell-1" src="">
                  <div class="u-container-layout u-container-layout-1" src="">
                    <div class="u-expanded-height u-image u-image-default u-image-1"
                      style="width: 600px; height: 265px;" id="black"></div>
                  </div>
                </div>
              </div>
            </div>
            <div class="u-size-30">
              <div class="u-layout-col">
                <div
                  class="u-align-left u-container-style u-layout-cell u-right-cell u-size-20 u-white u-layout-cell-2">
                  <div class="u-container-layout u-valign-middle u-container-layout-2">
                    <h2 class="u-text u-text-1">HTML</h2>
                    <p class="u-text u-text-2" id="textHTM">veeegeg</p>
                  </div>
                </div>
                <div
                  class="u-align-left u-container-style u-layout-cell u-right-cell u-size-20 u-white u-layout-cell-3">
                  <div class="u-container-layout u-valign-middle u-container-layout-3">
                    <h2 class="u-text u-text-3">JS</h2>
                    <p class="u-text u-text-4" id="textJS">textJS</p>
                  </div>
                </div>
                <div
                  class="u-align-left u-container-style u-layout-cell u-right-cell u-size-20 u-white u-layout-cell-4">
                  <div class="u-container-layout u-valign-middle u-container-layout-4">
                    <h2 class="u-text u-text-5">CSS</h2>
                    <p class="u-text u-text-6" id="textCSS">textCSS</p>
                  </div>
                  <style>
                    #textJS {
                      height: 200px;
                      /* Задаємо фіксовану висоту для елемента */
                      overflow: auto;
                      /* Включаємо скролбар при необхідності */
                    }

                    #textCSS {
                      height: 200px;
                      /* Задаємо фіксовану висоту для елемента */
                      overflow: auto;
                      /* Включаємо скролбар при необхідності */
                    }

                    #textHTM {
                      height: 200px;
                      /* Задаємо фіксовану висоту для елемента */
                      overflow: auto;
                      /* Включаємо скролбар при необхідності */
                    }
                  </style>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <script>
        function parseData(data) {
          var lines = data.split('\n');
          var result = {
            htmlCode: '',
            jsCode: '',
            cssCode: '',
            name: '',
            description: ''
          };


          var startIndices = {
            name: data.indexOf('name='),
            description: data.indexOf('description='),
            htmlCode: data.indexOf('htmlCode='),
            jsCode: data.indexOf('jsCode='),
            cssCode: data.indexOf('cssCode=')

          };

          var endIndices = {
            name: data.indexOf('description='),
            description: data.indexOf('htmlCode='),
            htmlCode: data.indexOf('jsCode='),
            jsCode: data.indexOf('cssCode='),
            cssCode: data.length
          };

          for (var key in result) {
            var start = startIndices[key] + key.length + 1;
            var end = endIndices[key];
            result[key] = data.substring(start, end).trim();
          }

          return result;
        }
        function addCode() {
          var urlParams = new URLSearchParams(window.location.search);
          var id = urlParams.get('id');
          console.log(id)
          var xhr = new XMLHttpRequest();
          xhr.open("POST", `Controller/getCode.php?id=${id}`, true);
          xhr.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");
          var params = `id=${id}`;
          var element = document.getElementById("textJS");

          xhr.onload = function () {
            if (xhr.readyState === 4 && xhr.status === 200) {
             // alert(xhr.responseText);
              var object = parseData(xhr.responseText);
              element.innerText = object.jsCode;
              element = document.getElementById("textCSS");
              element.innerText = object.cssCode;
              element = document.getElementById("textHTM");
              element.innerText = object.htmlCode.replace(/<head>[^<]*<\/head>/, '<br><br><br><br><br><br><br>');
              element = document.getElementById("description");
              element.innerText = object.description;
              element = document.getElementById("name");
              element.innerText = object.name;
              var blackDiv = document.getElementById("black");
              var htmlContent = document.createElement("div");
              htmlContent.innerHTML = object.htmlCode;
              blackDiv.appendChild(htmlContent);

              var scriptTag = document.createElement("script");
              scriptTag.innerHTML = object.jsCode;
              blackDiv.appendChild(scriptTag);

              var styleTag = document.createElement("style");

              var modifiedCssCode = object.cssCode.replace(/body\s*{[^}]+}/, '');
              styleTag.innerHTML = modifiedCssCode
              blackDiv.appendChild(styleTag);

            }
          };

          xhr.send(params);
        }

        addCode();

      </script>
      <a href="https://nicepage.dev"
        class="u-border-hover-palette-3-base u-border-none u-btn u-button-style u-none u-text-palette-2-base u-btn-1"><span
          class="u-file-icon u-icon u-icon-1"><img src="images/d5afa38101371b424bbf8a4f3c95c0cd.jpg" style="display: none;" alt=""></span>
      </a>
      <p  class="u-text u-text-default u-text-7" style="display: none;">likeCount</p>
    </div>
  </section>



  <form id="commentForm">
    <textarea name="comment" placeholder="Ваш коментар" required></textarea>
    <button type="submit">Надіслати</button>
  </form>
  <style>
    form {
      display: flex;
      flex-direction: row;
      align-items: flex-start;
      max-width: 600px;
      margin-left: 20px;
      margin-top: 20px;
      padding: 20px;
      border: 1px solid #ccc;
      border-radius: 5px;
    }

    textarea {
      flex: 1.5;
      resize: none;
      height: 100px;
      margin-right: 10px;
      padding: 10px;
      border: 1px solid #ccc;
      border-radius: 5px;
      font-family: Arial, sans-serif;
    }

    button {
      flex: 1;
      background-color: #007bff;
      color: #fff;
      border: none;
      border-radius: 5px;
      padding: 10px 15px;
      cursor: pointer;
    }

    button:hover {
      background-color: #0056b3;
    }

    ul#comments {
      list-style-type: none;
      padding: 0;
    }

    ul#comments li {
      margin-bottom: 20px;
    }

    ul#comments li .comment {
      border: 1px solid #ccc;
      border-radius: 5px;
      padding: 10px;
      background-color: #f0f0f0;
    }

    ul#comments li .author {
      font-weight: bold;
      margin-bottom: 5px;
      color: blue;
    }

    ul#comments li .content {
      margin-top: 0;
      color: #333;
    }
  </style>

  <h1>Коментарі</h1>

  <ul id="comments">
    <li>
      </div>
    </li>
    <!-- Додайте інші коментарі тут -->
  </ul>

  <script>
    // Отримати посилання на форму за допомогою ідентифікатора
    var form = document.getElementById('commentForm');

    // Додати обробник події для подання форми
    form.addEventListener('submit', function (event) {
      event.preventDefault(); // Заборонити стандартну поведінку форми

      var comment = document.getElementsByName('comment')[0].value; // Отримати значення коментаря
      var urlParams = new URLSearchParams(window.location.search);
      var id = urlParams.get('id');
      console.log(id)
      var xhr = new XMLHttpRequest();
      xhr.open('POST', `Controller/save_comment.php?id=${id}`, true);
      xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
      xhr.onreadystatechange = function () {
        if (xhr.readyState === 4 && xhr.status === 200) {
          alert(xhr.responseText)

          document.getElementsByName('comment')[0].value = '';
        }
      };
      xhr.send('comment=' + encodeURIComponent(comment));
    });
    // Функція для отримання коментарів
    function getComments() {
      var urlParams = new URLSearchParams(window.location.search);
      var id = urlParams.get('id');
      console.log(id)
      // Виконання AJAX-запиту до сервера
      var xhr = new XMLHttpRequest();
      xhr.open('GET', `Controller/get_comments.php?id=${id}`, true);
      xhr.onreadystatechange = function () {
        if (xhr.readyState === XMLHttpRequest.DONE) {
          if (xhr.status === 200) {
            //alert(xhr.responseText)
            // Обробка отриманих даних
            displayComments(xhr.responseText);
          } else {
            console.error('Помилка запиту:', xhr.status);
          }
        }
      };
      xhr.send();
    }

    // Функція для відображення коментарів
    function displayComments(comments) {
      var commentsContainer = document.getElementById('comments');
      var commentsList = comments.split('\n');

      commentsList.forEach(function (comment) {
        var separatorIndex = comment.indexOf(':');

        if (separatorIndex !== -1) {
          var author = comment.substring(0, separatorIndex).trim() + ":";
          var content = comment.substring(separatorIndex + 1).trim();

          var li = document.createElement('li');
          var div = document.createElement('div');
          div.className = 'comment';
          var authorPara = document.createElement('p');
          authorPara.className = 'author';
          authorPara.innerText = author;
          authorPara.id = 'author';
          var contentPara = document.createElement('p');
          contentPara.className = 'content';
          contentPara.innerText = "   " + content;
          contentPara.id = 'content';

          div.appendChild(authorPara);
          div.appendChild(contentPara);
          li.appendChild(div);
          commentsContainer.appendChild(li);
        } else {
          // Якщо роздільник ":" не знайдений, виконати відповідну обробку помилки або вивести повідомлення
          console.error('Помилка розбиття коментаря на автора та вміст.');
        }
      });
    }

    // Виклик функції для отримання коментарів
    getComments();
  </script>
  <footer class="u-align-center u-clearfix u-footer u-grey-80 u-footer" id="sec-0d9d">
    <div class="u-clearfix u-sheet u-sheet-1">
      <h2 class="u-small-text u-text u-text-variant u-text-1">Use this website for templates for your projects</h2>
    </div>
  </footer>
</body>

</html>